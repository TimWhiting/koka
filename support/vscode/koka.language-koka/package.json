{
  "name": "language-koka",
  "displayName": "Koka Syntax Highlighting",
  "description": "Official syntax support for the Koka programming language.",
  "version": "2.0.5",
  "publisher": "koka",
  "engines": {
    "vscode": ">=1.78.2"
  },
  "icon": "images/koka-logo-filled.png",
  "galleryBanner": {
    "color": "#293845",
    "theme": "dark"
  },
  "files": [
    "syntaxes/*.json",
    "images/",
    "README.md"
  ],
  "keywords": [
    "koka",
    "effect",
    "handler",
    "koka-lang"
  ],
  "license": "MIT",
  "homepage": "https://koka-lang.github.io",
  "repository": {
    "type": "git",
    "url": "https://github.com/koka-lang/koka"
  },
  "bugs": {
    "url": "https://github.com/koka-lang/koka/issues"
  },
  "categories": [
    "Programming Languages",
    "Debuggers"
  ],
  "main": "./out/extension",
  "contributes": {
    "languages": [
      {
        "id": "koka",
        "aliases": [
          "Koka",
          "koka-lang"
        ],
        "extensions": [
          ".kk",
          ".kki",
          ".kkc"
        ],
        "configuration": "./koka-configuration.json",
        "icon": {
          "light": "./images/koka-logo-filled-blue.svg",
          "dark": "./images/koka-logo-filled-blue.svg"
        }
      }
    ],
    "grammars": [
      {
        "language": "koka",
        "scopeName": "source.koka",
        "path": "./syntaxes/koka.json"
      }
    ],
    "configuration": {
      "type": "object",
      "title": "Koka configuration",
      "properties": {
        "koka.indentationRules.enabled": {
          "type": "boolean",
          "default": true,
          "description": "Set to 'false' to disable automatically increasing indent on newlines after '{', 'match' etc."
        },
        "koka.languageServer.enabled": {
          "type": "boolean",
          "default": true,
          "description": "Set to 'true' to enable smarter language support (e.g. hover, code completion, ...) for Koka. Requires specifying the path to the Koka compiler under 'koka.languageServer.path'."
        },
        "koka.languageServer.command": {
          "type": "string",
          "default": null,
          "description": "The command to launch the Koka language server (by default the extension assumes that 'koka' is on your PATH)"
        },
        "koka.languageServer.cwd": {
          "type": "string",
          "default": "",
          "description": "If specified, the directory in which the language server will be executed."
        },
        "koka.languageServer.trace.server": {
          "scope": "window",
          "type": "string",
          "enum": [
            "off",
            "messages",
            "verbose"
          ],
          "default": "off",
          "description": "Traces the communication between VS Code and the language server."
        }
      }
    },
    "configurationDefaults": {
      "[koka]": {
        "editor.tabSize": 2,
        "editor.insertSpaces": true
      }
    },
    "commands": [
      {
        "command": "koka.restartLanguageServer",
        "title": "Restart Koka Language Server"
      },
      {
        "command": "koka.startWithoutDebugging",
        "title": "Run a file"
      }
    ],
    "debuggers": [{
      "type": "koka",
      "label": "Koka Debugger",
      "runtime": "node",
      "languages": ["koka"],
      "configurationAttributes": {
        "launch": {
          "required": ["program"],
          "properties": {
            "program": { 
              "type": "string",
              "description": "File to run the main function from",
              "default": "${workspaceFolder}/${command:AskForProgramName}"
            }
          }
        }
      },
      "initialConfigurations": [
        {
          "name": "Debug Koka Program",
          "type": "koka",
          "request": "launch",
          "program": "${workspaceFolder}/${command:AskForProgramName}"
        }
      ],
      "configurationSnippets": [
        {
          "label": "Launch",
          "description": "Launch a Koka program",
          "body": {
            "type": "koka",
            "request": "launch",
            "name": "Ask for file name",
            "program": "^\"\\${workspaceFolder}/\\${command:AskForProgramName}\""
          }
        }
      ],
      "variables": {
        "AskForProgramName": "extension.language-koka.getProgramName"
      }
    }]

  },
  "scripts": {
    "build": "tsc",
    "watch": "tsc -w"
  },
  "devDependencies": {
    "@types/node": "^20.2.5",
    "@types/vscode": "1.78.1",
    "typescript": "^5.1.3"
  },
  "dependencies": {
    "vscode-languageclient": "^6.0.0",
    "@vscode/debugadapter": "^1.61.0",
    "@vscode/debugprotocol": "^1.61.0",
    "await-notify": "1.0.1"
  }
}